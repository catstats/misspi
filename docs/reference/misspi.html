<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Enables embarrassingly parallel computing for imputation. Some of the advantages include
Provides fast implementation especially for high dimensional datasets.
Accepts a variety of machine learning models as methods with friendly user portal.
Supports multiple initializations.
Supports early stopping that prohibits unnecessary iterations.

"><title>Missing Value Imputation in Parallel — misspi • misspi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Missing Value Imputation in Parallel — misspi"><meta property="og:description" content="Enables embarrassingly parallel computing for imputation. Some of the advantages include
Provides fast implementation especially for high dimensional datasets.
Accepts a variety of machine learning models as methods with friendly user portal.
Supports multiple initializations.
Supports early stopping that prohibits unnecessary iterations.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">misspi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Missing Value Imputation in Parallel</h1>
      
      <div class="d-none name"><code>misspi.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Enables embarrassingly parallel computing for imputation. Some of the advantages include</p><ul><li><p>Provides fast implementation especially for high dimensional datasets.</p></li>
<li><p>Accepts a variety of machine learning models as methods with friendly user portal.</p></li>
<li><p>Supports multiple initializations.</p></li>
<li><p>Supports early stopping that prohibits unnecessary iterations.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">misspi</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  ncore <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  init.method <span class="op">=</span> <span class="st">"rf"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"rf"</span>,</span>
<span>  earlystopping <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ntree <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  init.ntree <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  viselect <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lgb.params <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lgb.params0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model.train <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pmm <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nn <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  intcol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxiter <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  rdiff.thre <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nlassofold <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  isis <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  char <span class="op">=</span> <span class="st">" * "</span>,</span>
<span>  iteration <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ndecimal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>a matrix of numerical values for imputation, missing value should all be "NA".</p></dd>


<dt>ncore</dt>
<dd><p>number of cores to use, will be set to the cores detected as default.</p></dd>


<dt>init.method</dt>
<dd><p>initializing method to fill in the missing value before imputation. Support "rf" for random forest imputation as default, "mean" for mean imputation, "median" for median imputation.</p></dd>


<dt>method</dt>
<dd><p>method name for the imputation, support "rf" for random forest, "lgb" for lightgbm, "lasso" for LASSO, or "customize" if you want to use your own method.</p></dd>


<dt>earlystopping</dt>
<dd><p>a Boolean which indicates whether to stop the algorithm if the relative difference stop decreasing, with TRUE as default.</p></dd>


<dt>ntree</dt>
<dd><p>number of trees to use for imputation when method is "rf" or "gbm".</p></dd>


<dt>init.ntree</dt>
<dd><p>number of trees to use for initialization when method is "rf"</p></dd>


<dt>viselect</dt>
<dd><p>the number of variables with highest variable importance calculated from random forest initialization to work on if the value is not NULL. This would only work when init.method is "rf", and method is "rf" or "gbm".</p></dd>


<dt>lgb.params</dt>
<dd><p>parameters to customize for lightgbm models, could be invoked when method is "rf" or "gbm".</p></dd>


<dt>lgb.params0</dt>
<dd><p>parameters to customize for initialization using random forest, could be invoked when init.method is "rf".</p></dd>


<dt>model.train</dt>
<dd><p>machine learning model to be invoked for customizing the imputation. Only invoked when parameter method = "customize". The input model should be able to take y~x for fitting process where y, and x are matrices, also make sure that it could be called using method "predict" for model prediction. You could pass the parameters for the model through the additional arguments ...</p></dd>


<dt>pmm</dt>
<dd><p>a Boolean which indicated whether to use predictive mean matching.</p></dd>


<dt>nn</dt>
<dd><p>number of neighbors to use for prediction if predictive mean matching is invoked (pmm is "TRUE").</p></dd>


<dt>intcol</dt>
<dd><p>a vector of indices of columns that are know to be integer, and will be round to integer in every iteration.</p></dd>


<dt>maxiter</dt>
<dd><p>maximum number of iterations for imputation.</p></dd>


<dt>rdiff.thre</dt>
<dd><p>relative difference threshold for determining the imputation convergence.</p></dd>


<dt>verbose</dt>
<dd><p>a Boolean that indicates whether to print out the intermediate steps verbally.</p></dd>


<dt>progress</dt>
<dd><p>a Boolean that indicates whether to show the progress bar.</p></dd>


<dt>nlassofold</dt>
<dd><p>number of folds for cross validation when the method is "lasso".</p></dd>


<dt>isis</dt>
<dd><p>a Boolean that indicates whether to use isis if the method is "lasso", recommended to use for ultra high dimension.</p></dd>


<dt>char</dt>
<dd><p>a character to use which also accept unicode for progress bar. For example, u03c, u213c for pi, u2694 for swords, u2605 for star, u2654 for king, u26a1 for thunder, u2708 for plane.</p></dd>


<dt>iteration</dt>
<dd><p>a Boolean that indicates whether use iterative algorithm.</p></dd>


<dt>ndecimal</dt>
<dd><p>number of decimals to round for the result, with NULL meaning no intervention.</p></dd>


<dt>...</dt>
<dd><p>other arguments to be passed to the method.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a list that contains the imputed values, time consumed and number of iterations.</p>


<p>x.imputed the imputed matrix.</p>


<p>time.elapsed time consumed for the algorithm.</p>


<p>niter number of iterations used in the algorithm.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Azur, M. J., Stuart, E. A., Frangakis, C., &amp; Leaf, P. J. (2011). Multiple imputation by chained equations: what is it and how does it work?. International journal of methods in psychiatric research, 20(1), 40-49.</p>
<p>Ke, G., Meng, Q., Finley, T., Wang, T., Chen, W., Ma, W., ... &amp; Liu, T. Y. (2017). Lightgbm: A highly efficient gradient boosting decision tree. Advances in neural information processing systems, 30.</p>
<p>Stekhoven, D. J., &amp; Bühlmann, P. (2012). MissForest—non-parametric missing value imputation for mixed-type data. Bioinformatics, 28(1), 112-118.</p>
<p>Fan, J., &amp; Lv, J. (2008). Sure independence screening for ultrahigh dimensional feature space. Journal of the Royal Statistical Society Series B: Statistical Methodology, 70(5), 849-911.</p>
<p>Tibshirani, R. (1996). Regression shrinkage and selection via the lasso. Journal of the Royal Statistical Society Series B: Statistical Methodology, 58(1), 267-288.</p>
<p>Breiman, L. (2001). Random forests. Machine learning, 45, 5-32.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="missar.html">missar</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Zhongli Jiang <a href="mailto:jiang548@purdue.edu">jiang548@purdue.edu</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span></span>
<span><span class="co"># \donttest{</span></span>
<span><span class="co"># Quick example 1</span></span>
<span><span class="co"># Load a small data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span><span class="co"># Keep numerical columns</span></span>
<span><span class="va">num.col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">is.numeric</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">iris.numeric</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">iris</span><span class="op">[</span>, <span class="va">num.col</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">iris.miss</span> <span class="op">&lt;-</span> <span class="fu"><a href="missar.html">missar</a></span><span class="op">(</span><span class="va">iris.numeric</span>, <span class="fl">0.3</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">iris.impute</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">iris.miss</span><span class="op">)</span></span>
<span><span class="va">iris.impute</span></span>
<span></span>
<span><span class="co"># Quick example 2</span></span>
<span><span class="co"># Load a high dimensional data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">toxicity</span>, package <span class="op">=</span> <span class="st">"misspi"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">toxicity.miss</span> <span class="op">&lt;-</span> <span class="fu"><a href="missar.html">missar</a></span><span class="op">(</span><span class="va">toxicity</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="va">toxicity.impute</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">toxicity.miss</span><span class="op">)</span></span>
<span><span class="va">toxicity.impute</span></span>
<span></span>
<span><span class="co"># Change cores</span></span>
<span><span class="va">iris.impute.5core</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">iris.miss</span>, ncore <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Change initialization and maximum iterations (no iteration in the example)</span></span>
<span><span class="va">iris.impute.mean.5iter</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">iris.miss</span>, init.method <span class="op">=</span> <span class="st">"mean"</span>, maxiter <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Change fun shapes for progress bar</span></span>
<span><span class="va">iris.impute.king</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">iris.miss</span>, char <span class="op">=</span> <span class="st">" \u2654"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Use variable selection</span></span>
<span><span class="va">toxicity.impute.vi</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">toxicity.miss</span>, viselect <span class="op">=</span> <span class="fl">128</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Use different machine learning algorithms as method</span></span>
<span><span class="co"># linear model</span></span>
<span><span class="va">iris.impute.lm</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">iris.miss</span>, model.train <span class="op">=</span> <span class="va">lm</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># From external packages</span></span>
<span><span class="co"># Support Vector Machine (SVM)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">e1071</span><span class="op">)</span></span>
<span><span class="va">iris.impute.svm.radial</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">iris.miss</span>, model.train <span class="op">=</span> <span class="va">svm</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Neural Networks</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bips-hb/neuralnet" class="external-link">neuralnet</a></span><span class="op">)</span></span>
<span><span class="va">iris.impute.nn</span> <span class="op">&lt;-</span> <span class="fu">misspi</span><span class="op">(</span><span class="va">iris.miss</span>, model.train <span class="op">=</span> <span class="va">neuralnet</span><span class="op">)</span><span class="co"># }</span></span>
<span></span>
<span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Zhongli Jiang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

